{"mappings":"AAAA,oBAAoB,GACpB,MAAM,8BAA8B,CAAC;IACjC,OAAQ;QACJ,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX;YACI,OAAO;IACf;AACJ;AAEA,MAAM,QAAQ;IACV,eAAe,CAAC,KAAK,OAAO,GAAG;QAC3B,IAAI,OAAO,QAAQ,YACf,OAAO,IAAI;QAGf,wCAAwC;QACxC,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,WAAW,GAAG;QAE3C,MAAM,UAAU;YACZ;YACA,OAAO;gBACH,GAAG,SAAS;gBACZ;YACJ;QACJ;QAEA,OAAO;IACX;IACA,OAAO;QACH,SAAS;QACT,OAAO,EAAE;IACb;IACA,UAAS,YAAY;QACjB,+GAA+G;QAC/G,MAAM,iBAAiB,MAAM,MAAM;QAEnC,oEAAoE;QACpE,MAAM,MAAM;QAEZ,gDAAgD;QAChD,IAAI,MAAM,MAAM,KAAK,CAAC,eAAe,KAAK,WACtC,MAAM,MAAM,KAAK,CAAC,eAAe,GAAG;QAGxC,SAAS,SAAS,QAAQ;YACtB,mBAAmB;YACnB,MAAM,MAAM,KAAK,CAAC,eAAe,GAAG;YAEpC,6CAA6C;YAC7C,MAAM,MAAM,UAAU;YACtB,SAAS;QACb;QAEA,OAAO;YAAC,MAAM,MAAM,KAAK,CAAC,eAAe;YAAE;SAAS;IACxD;AACJ;AAEA,MAAM,WAAW;IACb,QAAQ,CAAC,SAAS;QACd,qBAAqB;QACrB,MAAM,aAA0B,SAAS,cAAc,QAAQ;QAE/D,qDAAqD;QACrD,IAAI;YAAC;YAAU;SAAS,CAAC,SAAS,OAAO,UACrC,OAAO,UAAU,YAAY,SAAS,eAAe;QAGzD,MAAM,EAAE,QAAQ,EAAE,GAAG,WAAW,GAAG,QAAQ;QAE3C,gCAAgC;QAChC,OAAO,KAAK,WAAW,QAAQ,CAAC;YAC5B,IAAI,OAAO,SAAS,CAAC,KAAK,KAAK,YAC3B,WAAW,iBACP,4BAA4B,OAC5B,SAAS,CAAC,KAAK;YAGvB,WAAW,aAAa,MAAM,SAAS,CAAC,KAAK;QACjD;QAEA,8BAA8B;QAC9B,SAAS,QAAQ,CAAC,QAAU,SAAS,OAAO,OAAO;QAEnD,UAAU,YAAY;IAC1B;IACA;QACI,MAAM,YAAY,SAAS,eAAe;QAC1C,UAAU,YAAY;QAEtB,SAAS,qBAAO,oBAAC;;;;;;;YAAQ;IAC7B;AACJ;AAEA,6BAA6B,GAC7B,MAAM,EAAE,QAAQ,EAAE,GAAG;AACrB,MAAM,EAAE,MAAM,EAAE,GAAG;AAEnB,MAAM,UAAU;IACZ,MAAM,CAAC,OAAO,SAAS,GAAG,SAAS;IAEnC,qBACI,oBAAC;;;;;;;qBACG,oBAAC;QAAO,SAAS,IAAM,SAAS,QAAQ;;;;;;;OAAI,kCAC5C,oBAAC;;;;;;;OAAG,WAAQ;AAGxB;AAEA,MAAM,QAAQ;IACV,MAAM,CAAC,MAAM,QAAQ,GAAG,SAAS;IAEjC,qBACI,oBAAC;;;;;;;qBACG,oBAAC;QACG,aAAY;QACZ,MAAK;QACL,OAAO;QACP,UAAU,CAAC,IAAM,QAAQ,EAAE,OAAO;;;;;;;sBAEtC,oBAAC;;;;;;;OAAG,UAAO;AAGvB;AAEA,MAAM,MAAM,kBACR,oBAAC;;;;;;;qBACG,oBAAC;;;;;;;OAAG,wBACJ,oBAAC;;;;;;;sBACD,oBAAC;;;;;;;;AAIT,qBAAO,oBAAC;;;;;;;IAAQ,SAAS,eAAe","sources":["src/index.tsx"],"sourcesContent":["/***** LIB CODE *****/\r\nconst mapAttributeNameToEventName = (attributeName) => {\r\n    switch (attributeName) {\r\n        case \"onClick\":\r\n            return \"click\";\r\n        case \"onchange\":\r\n            return \"change\";\r\n        default:\r\n            return \"\";\r\n    }\r\n};\r\n\r\nconst React = {\r\n    createElement: (tag, props, ...children) => {\r\n        if (typeof tag === \"function\") {\r\n            return tag(props);\r\n        }\r\n\r\n        // Filter out source and self from props\r\n        const { __source, __self, ...restProps } = props;\r\n\r\n        const element = {\r\n            tag,\r\n            props: {\r\n                ...restProps,\r\n                children,\r\n            },\r\n        };\r\n\r\n        return element;\r\n    },\r\n    state: {\r\n        counter: 0,\r\n        value: [],\r\n    },\r\n    useState(initialState) {\r\n        // Take a snapshot of the current counter so that we can increment the counter before we read the current state\r\n        const currentCounter = React.state.counter;\r\n\r\n        // Increment the counter to be used by the next instance of useState\r\n        React.state.counter++;\r\n\r\n        // If the state doesn't exist yet, initialize it\r\n        if (React.state.value[currentCounter] === undefined) {\r\n            React.state.value[currentCounter] = initialState;\r\n        }\r\n\r\n        function setState(newState) {\r\n            // Update the state\r\n            React.state.value[currentCounter] = newState;\r\n\r\n            // Reset the counter then rerender everything\r\n            React.state.counter = 0;\r\n            ReactDOM.reRender();\r\n        }\r\n\r\n        return [React.state.value[currentCounter], setState];\r\n    },\r\n};\r\n\r\nconst ReactDOM = {\r\n    render: (element, container: HTMLElement) => {\r\n        // Create dom element\r\n        const domElement: HTMLElement = document.createElement(element.tag);\r\n\r\n        // If the element is a primitive type, add it as text\r\n        if ([\"string\", \"number\"].includes(typeof element)) {\r\n            return container.appendChild(document.createTextNode(element));\r\n        }\r\n\r\n        const { children, ...restProps } = element.props;\r\n\r\n        // Pass all props to dom element\r\n        Object.keys(restProps).forEach((prop) => {\r\n            if (typeof restProps[prop] === \"function\") {\r\n                domElement.addEventListener(\r\n                    mapAttributeNameToEventName(prop),\r\n                    restProps[prop]\r\n                );\r\n            }\r\n            domElement.setAttribute(prop, restProps[prop]);\r\n        });\r\n\r\n        // Recursively render children\r\n        children.forEach((child) => ReactDOM.render(child, domElement));\r\n\r\n        container.appendChild(domElement);\r\n    },\r\n    reRender() {\r\n        const container = document.getElementById(\"app\");\r\n        container.innerHTML = \"\";\r\n\r\n        ReactDOM.render(<App />, container!);\r\n    },\r\n};\r\n\r\n/***** APPLICATION START *****/\r\nconst { useState } = React;\r\nconst { render } = ReactDOM;\r\n\r\nconst Counter = () => {\r\n    const [count, setCount] = useState(0);\r\n\r\n    return (\r\n        <div>\r\n            <button onClick={() => setCount(count + 1)}>Increment Count</button>\r\n            <h3>Count: {count}</h3>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Namer = () => {\r\n    const [name, setName] = useState(\"Kenny\");\r\n\r\n    return (\r\n        <div>\r\n            <input\r\n                placeholder=\"name\"\r\n                type=\"text\"\r\n                value={name}\r\n                onchange={(e) => setName(e.target.value)}\r\n            />\r\n            <h3>Name: {name}</h3>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst App = () => (\r\n    <div>\r\n        <h1>Hello</h1>\r\n        <Namer />\r\n        <Counter />\r\n    </div>\r\n);\r\n\r\nrender(<App />, document.getElementById(\"app\")!);\r\n"],"names":[],"version":3,"file":"index.a96c6e9e.js.map","sourceRoot":"/__parcel_source_root/"}